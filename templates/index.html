<!DOCTYPE html>
<html lang="en">
	<head>
    	<meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <meta name="description" content="CleverAdmin - Bootstrap Admin Template">
		<meta name="author" content="Łukasz Holeczek">
		<meta name="keyword" content="CleverAdmin, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">

	    <title>SHGC Calculator</title>

	    <!-- Bootstrap core CSS -->
	    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
		
		<!-- page css files -->
		<link href="../static/css/font-awesome.min.css" rel="stylesheet">
		<link href="../static/css/jquery-ui.min.css" rel="stylesheet">	

	    <!-- Custom styles for this template -->
	    <link href="../static/css/style.min.css" rel="stylesheet">
	    <script src="../static/three.js"></script>


	    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	    <!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	    <![endif]-->
	    <style>
	    canvas{
	    	height: 500px;
	    	width:750px;
	    }
	    </style>
	</head>
</head>

<body>
		<!-- start: Header -->
	<div class="navbar " role="navigation" id="venu">
		<div class="container-fluid">
			
			<a  href="#" style="color:#2C3539; font-size:18px;" data-toggle="tooltip" data-placement="bottom" title="Home"> Equivalent SHGC Calculator</a>
	        <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Account<span class="caret"></span></a>
		<ul class="dropdown-menu" role = "menu">
                                <li><a href="/projects" title="Projects"><b>My Projects</b></a></li>
				<li><a href="/logout"  title="Logout"><b>Logout</b></a></li>
			</ul>
                </li>
		</ul>	
		</div>
	</div>
	<!-- end: Header -->
	
		
			<!-- end: Main Menu -->
						
			<!-- start: Content -->
			<div class="col-md-10 col-sm-11 main ">
			
			
			<div class="row">
                                <form class="form-horizontal" role="form" action = "/ecbc" method="post">
				<div class="form-group">
                                <label class="col-md-1 control-label" for="email-w1">Project Name</label>
                                <div class="col-md-9"><input class="form-control" type="text" name="projectname" value='{{data["projectname"]}}'></div>
                                <input style="margin-left:200px" class="btn btn-primary button-finish" type="submit" name="finish" value="Save" style="display:none"/>
                                </div>
                                <br><br>
				<div class="col-md-6">
					<div class="panel panel-default">
						<div class="panel-heading"></div>
						<div class="panel-body">
							<div id="wizard1" class="wizard-type1">
								<ul class="steps">
								  	<li><a href="form-wizard.html#tab11" data-toggle="tab" data-toggle="tooltip" data-placement="bottom" title="Window Dimensions"><span class="badge badge-info"></span> Window Dimensions</a></li>
									<li><a href="form-wizard.html#tab12" data-toggle="tab" data-toggle="tooltip" data-placement="bottom" title="Overhangs"><span class="badge badge-info">2</span> Overhangs</a></li>
									<li><a href="form-wizard.html#tab14" data-toggle="tab" data-toggle="tooltip" data-placement="bottom" title="Fins"><span class="badge badge-info">3</span> Fins</a></li>
								</ul>
								<div class="progress thin">
									<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
									</div>
								</div>
								<br>
								<div class="tab-content">
								    <div class="tab-pane" id="tab11">
										



											            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Building location</label>
                    <div class="col-md-9"><input class="form-control" type="text" id="building" name="building" value='{{data["building"]}}'>
                    </div>
            </div>

            <div class="form-group">
<label class="col-md-3 control-label" for="email-w1">SHGC</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="shgc" placeholder="Solar Heat Gain Coefficient" value='{{data["shgc"]}}'></div>  <br>
            </div>
       

            <div class="form-group">
<label class="col-md-3 control-label" for="email-w1">Window Orientation<br> (degrees)</label>
                    <div class="col-md-9"><input class="form-control" type="width" name="orien" placeholder="consider north as 0 degrees" value='{{data["orien"]}}'></div>
            </div>

            <div class="form-group">
<label class="col-md-3 control-label" for="email-w1">Window height (m.)</label>
                    <div class="col-md-9"><input class="form-control" type="width" name="wheight" placeholder="in m." value='{{data["wheight"]}}' id="winhei"></div>
            </div>

            <div class="form-group">
<label class="col-md-3 control-label" for="email-w1">Window length (m.)</label>
                    <div class="col-md-9"><input class="form-control" type="width" name="wlength" placeholder="in m." value='{{data["wlength"]}}' id="winlen"></div>
            </div>



								    </div>






								    <div class="tab-pane" id="tab12">
								 		            <div class="form-group">
                <label class="col-md-3 control-label" for="email-w1">Overhangs</label>
                    <div class="col-md-9"><input class="form-control" type="checkbox" name="overhang" checked></div>
            </div>

            <div class="form-group">
                <label class="col-md-3 control-label" for="email-w1">Overhang Depth (m.)</label>

                    <div class="col-md-9"><input class="form-control" type="length" name="odepth" placeholder="length in m." required id="ohdepth" value='{{data["odepth"]}}'><br>
                </div>
            </div>

            <div class="form-group">
                               <label class="col-md-3 control-label" for="email-w1">Height above window (m.)</label>

                    <div class="col-md-9"><input class="form-control" type="length" name="oheight" placeholder="in m." value='{{data["oheight"]}}'><br>
                </div>
            </div>

            <div class="form-group">
                <label class="col-md-3 control-label" for="email-w1">Tilt angle with respect to window <br>(in degrees)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="otilt" placeholder="in degrees" value='{{data["otilt"]}}'><br>
                </div>
            </div>

            <div class="form-group">
                 <label class="col-md-3 control-label" for="email-w1">Left extension  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="le" placeholder="in m." value='{{data["le"]}}'><br>
                </div>
            </div>

            <div class="form-group">
                 <label class="col-md-3 control-label" for="email-w1">Right extension  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="re" placeholder="in m." value='{{data["re"]}}'><br>
                </div>
            </div>
									






								    </div>
								    












									






									<div class="tab-pane" id="tab14">
										            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Fins</label>
                    <div class="col-md-9"><input class="form-control" type="checkbox" name="fin" checked>
                </div>
            </div>

            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Left Extension from Window  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="fle" placeholder="length in m." value='{{data["fle"]}}'><br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Left Distance Above Top of Window   <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="flda" placeholder="length in m." value='{{data["flda"]}}'><br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Left Distance Below Bottom of Window  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="fldb" placeholder="length in m." value='{{data["fldb"]}}'><br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Left Tilt Angle from Window/Door  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="flt" placeholder="length in degrees" value='{{data["flt"]}}'><br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Left depth  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="fld" placeholder="length in m." value="{{data['fld']}}" id="findepth"><br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Right Extension from Window  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="fre" placeholder="length in m." value='{{data["fre"]}}'><br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Right Distance Above Top of Window   <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="frda" placeholder="length in m." value='{{data["frda"]}}'> <br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Right Distance Below Bottom of Window  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="frdb" placeholder="length in m." value='{{data["frdb"]}}'><br>
                </div>	
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Right Tilt Angle from Window/Door  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="frt" placeholder="length in degrees" value='{{data["frt"]}}'><br>
                </div>
            </div>
            <div class="form-group">
                    <label class="col-md-3 control-label" for="email-w1">Right depth  <br>(in m.)</label>
                    <div class="col-md-9"><input class="form-control" type="length" name="frd" placeholder="length in m." value='{{data["frd"]}}'><br>
                </div>
            </div>
								    </div>

						
								</div>
								
								
								
									
									<input style="margin-left:200px" type="submit" class="btn btn-primary button-finish" name="finish" value="Submit" style="display:none"/><br><br>
									<input style="margin-left:170px"   onclick="refreshDiv()" class="btn btn-primary button-finish" name="finish" value="View Simulation" style="display:none"/>
								<br><br><br><br>
								</form>
									
							</div>

						</div>

					</div>
					
				</div><!--/col-->
				<div id="abhilash" class="col-md-6">
					
					</div>
				

			</div><!--/row-->
	
					
			</div>
			<!-- end: Content -->
				
				</div><!--/row-->		
		
	</div><!--/container-->
		
	
	
	<div class="clearfix"></div>
	<div>
	<footer>
		
		<div class="row">
			
			<div class="col-sm-12">
				&copy; 2016 <a href="https://www.facebook.com/kittu.abhilash">Abhilash Sangireddy</a>, Building Science Research Center, International Institute for Information Technology.
			</div><!--/.col-->
			
			
		</div><!--/.row-->	

	</footer>
	</div>
		
	<!-- start: JavaScript-->
	<!--[if !IE]>-->

			<script src="../static/js/jquery-2.1.0.min.js"></script>

	<!--<![endif]-->

	<!--[if IE]>
	
		<script src="../static/js/jquery-1.11.0.min.js"></script>
	
	<![endif]-->

	<!--[if !IE]>-->

		<script type="text/javascript">
			window.jQuery || document.write("<script src='../static/js/jquery-2.1.0.min.js'>"+"<"+"/script>");
		</script>

	<!--<![endif]-->

	<!--[if IE]>
	
		<script type="text/javascript">
	 	window.jQuery || document.write("<script src='../static/js/jquery-1.11.0.min.js'>"+"<"+"/script>");
		</script>
		
	<![endif]-->
	<script src="../static/js/jquery-migrate-1.2.1.min.js"></script>
	<script src="../static/js/bootstrap.min.js"></script>	
	<script>
var three = THREE;
group = new THREE.Object3D();

var winhei = document.getElementById("winhei").value;;
console.log("333: "+winhei)
var winlen = document.getElementById("winlen").value;;
var ohdepth = document.getElementById("ohdepth").value;;
var findepth = document.getElementById("findepth").value;; 
var scene = new three.Scene();
var camera = new three.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

//var renderer = new three.WebGLRenderer();
//renderer.setSize(window.innerWidth, window.innerHeight);



var container = document.getElementById( "abhilash" );

    var _this = this;
    this.width = 1000;
    this.height = 600;

    // Setup scene, camera, and renderer
    this.renderer = new three.WebGLRenderer();
    container.appendChild( this.renderer.domElement );

    // container = $('abhilash').appendChild( container );
    //container.appendChild( this.renderer.domElement );





//document.body.appendChild(renderer.domElement);



var geometry = new three.CubeGeometry(1, 4, 4);
//var material = new three.MeshNormalMaterial();
var material0 = new three.MeshBasicMaterial({wireframe:true,
    color: 0x00ff00
});

 
three.ImageUtils.crossOrigin = '';
var texture = three.ImageUtils.loadTexture('http://i.imgur.com/0jwLS3x.jpg');
texture.anisotropy = renderer.getMaxAnisotropy();

var material = new three.MeshFaceMaterial([
  new three.MeshBasicMaterial({
    //color: 0x00ff00
    map:texture
  }),
  new three.MeshBasicMaterial({
   // color: 0xff0000
   map:texture
  }),
  new three.MeshBasicMaterial({
    //color: 0x0000ff,
    map: texture
  }),
  new three.MeshBasicMaterial({
   // color: 0xffff00
   map: texture
  }),
  new three.MeshBasicMaterial({
    //color: 0x00ffff

    map:texture
  }),
  new three.MeshBasicMaterial({
    //color: 0xff00ff
    map:texture
  })
]);

var geometry1 = new three.CubeGeometry(0, winhei,winlen);
//var material = new three.MeshNormalMaterial();
/*var material1 = new three.MeshBasicMaterial({
    color: 0xffffff
});*/

three.ImageUtils.crossOrigin = '';
var texture2 = three.ImageUtils.loadTexture('http://i.imgur.com/i9umepr.jpg');
texture.anisotropy = renderer.getMaxAnisotropy();

var material1 = new three.MeshFaceMaterial([
  new three.MeshBasicMaterial({
    //color: 0x00ff00
    map:texture2
  }),
  new three.MeshBasicMaterial({
   // color: 0xff0000
   map:texture2
  }),
  new three.MeshBasicMaterial({
    //color: 0x0000ff,
    map: texture2
  }),
  new three.MeshBasicMaterial({
   // color: 0xffff00
   map: texture2
  }),
  new three.MeshBasicMaterial({
    //color: 0x00ffff

    map:texture2
  }),
  new three.MeshBasicMaterial({
    //color: 0xff00ff
    map:texture2
  })
]);

three.ImageUtils.crossOrigin = '';
var texture3 = three.ImageUtils.loadTexture('http://i.imgur.com/DdLrPvO.jpg');
texture.anisotropy = renderer.getMaxAnisotropy();

var material2 = new three.MeshFaceMaterial([
  new three.MeshBasicMaterial({
    //color: 0x00ff00
    map:texture3
  }),
  new three.MeshBasicMaterial({
   // color: 0xff0000
   map:texture3
  }),
  new three.MeshBasicMaterial({
    //color: 0x0000ff,
    map: texture3
  }),
  new three.MeshBasicMaterial({
   // color: 0xffff00
   map: texture3
  }),
  new three.MeshBasicMaterial({
    //color: 0x00ffff

    map:texture3
  }),
  new three.MeshBasicMaterial({
    //color: 0xff00ff
    map:texture3
  })
]);

var cube = new three.Mesh(geometry, material);
cube.position.set(0, 0, 0);
cube.rotation.x = Math.PI / 8;
cube.rotation.y = Math.PI / 8;
//cube.rotation.z = Math.PI / 8;
//scene.add(cube);
group.add(cube);
var cube1 = new three.Mesh(geometry1, material1);
cube1.rotation.x = Math.PI / 8;
cube1.rotation.y = Math.PI / 8;
//cube1.rotation.z = Math.PI / 8;
cube1.position.set(0.55,0,0);
//scene.add(cube1);
group.add(cube1);
var geometry2 = new three.CubeGeometry(ohdepth,0.1,winlen);
//var material = new three.MeshNormalMaterial();
/*var material2 = new three.MeshBasicMaterial({
    color: 0xfffff-f.25
});*/

var cube2 = new three.Mesh(geometry2, material2);
cube2.rotation.x = Math.PI / 8;
cube2.rotation.y = Math.PI / 8;
cube2.position.set(ohdepth/2 + 0.5, winhei/2 + 0.05 , 0 ) ;
//scene.add(cube2);
group.add(cube2);

var geometry3 = new three.CubeGeometry(findepth,1,0.05);
var cube3 = new three.Mesh(geometry3, material2);
cube3.rotation.x = Math.PI / 8;
cube3.rotation.y = Math.PI / 8;
cube3.position.set(findepth/2 + 0.5 - 0.2, winhei/2 - 0.3, -1*winlen/2 - 0.1);
group.add(cube3);

//var geometry3 = new three.CubeGeometry(1,1,0.05);
var cube4 = new three.Mesh(geometry3, material2);
cube4.rotation.x = Math.PI / 8;
cube4.rotation.y = Math.PI / 8;
cube4.position.set(findepth/2 + 0.5 + 0.2, winhei/2 - 0.6, 1*winlen/2 - 0.3);
group.add(cube4);
scene.add(group);
camera.position.z = 5;

//cube1.translateZ(-1);

/* */
var isDragging = false;

var previousMousePosition = {
  x: 0,
  y: 0
};
$(renderer.domElement).on('mousedown', function(e) {
    isDragging = true;
  })
  .on('mousemove', function(e) {
    //console.log(e);
    var deltaMove = {
      x: e.offsetX - previousMousePosition.x,
      y: e.offsetY - previousMousePosition.y
    };

    if (isDragging) {

      var deltaRotationQuaternion = new three.Quaternion()
        .setFromEuler(new three.Euler(
          toRadians(deltaMove.y * 2),
          toRadians(deltaMove.x * 2),
          0,
          'XYZ'
        ));

      
      group.quaternion.multiplyQuaternions(deltaRotationQuaternion, group.quaternion);
     // cube2.quaternion.multiplyQuaternions(deltaRotationQuaternion, cube2.quaternion);
      //cube.quaternion.multiplyQuaternions(deltaRotationQuaternion, cube.quaternion);
    }

    previousMousePosition = {
      x: e.offsetX,
      y: e.offsetY
    };
  });
/* */

$(document).on('mouseup', function(e) {
  isDragging = false;
});



// shim layer with setTimeout fallback
window.requestAnimFrame = (function() {
  return window.requestAnimationFrame ||
    window.webkitRequestAnimationFrame ||
    window.mozRequestAnimationFrame ||
    function(callback) {
      window.setTimeout(callback, 1000 / 60);
    };
})();

var lastFrameTime = new Date().getTime() / 1000;
var totalGameTime = 0;

function update(dt, t) {
  //console.log(dt, t);

  //camera.position.z -= 1 * dt;
  //group.rotation.x += 1 * dt;
  //group.rotation.y += 1 * dt;

  setTimeout(function() {
    var currTime = new Date().getTime() / 1000;
    var dt = currTime - (lastFrameTime || currTime);
    totalGameTime += dt;

    update(dt, totalGameTime);

    lastFrameTime = currTime;
  }, 0);
}


function render() {
  renderer.render(scene, camera);


  requestAnimFrame(render);
}

render();
update(0, totalGameTime);

function toRadians(angle) {
  return angle * (Math.PI / 180);
}

function toDegrees(angle) {
  return angle * (180 / Math.PI);
}

function refreshDiv(){
	// console.log(winhei);
	var winhei = document.getElementById("winhei").value;
    var winlen = document.getElementById("winlen").value;
    var ohdepth = document.getElementById("ohdepth").value;
    var findepth = document.getElementById("findepth").value;
    var three = THREE;
group = new THREE.Object3D();

var winhei = document.getElementById("winhei").value;;
console.log("333: "+winhei)
var winlen = document.getElementById("winlen").value;;
var ohdepth = document.getElementById("ohdepth").value;;
var findepth = document.getElementById("findepth").value;; 
var scene = new three.Scene();
var camera = new three.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

//var renderer = new three.WebGLRenderer();
//renderer.setSize(window.innerWidth, window.innerHeight);



var container = document.getElementById( "abhilash" );

    var _this = this;
    this.width = 1000;
    this.height = 600;

    // Setup scene, camera, and renderer
    this.renderer = new three.WebGLRenderer();
    container.removeChild(container.lastChild);
    container.appendChild( this.renderer.domElement );

    // container = $('abhilash').appendChild( container );
    //container.appendChild( this.renderer.domElement );





//document.body.appendChild(renderer.domElement);



var geometry = new three.CubeGeometry(1, 4, 4);
//var material = new three.MeshNormalMaterial();
var material0 = new three.MeshBasicMaterial({wireframe:true,
    color: 0x00ff00
});

 
three.ImageUtils.crossOrigin = '';
var texture = three.ImageUtils.loadTexture('http://i.imgur.com/0jwLS3x.jpg');
texture.anisotropy = renderer.getMaxAnisotropy();

var material = new three.MeshFaceMaterial([
  new three.MeshBasicMaterial({
    //color: 0x00ff00
    map:texture
  }),
  new three.MeshBasicMaterial({
   // color: 0xff0000
   map:texture
  }),
  new three.MeshBasicMaterial({
    //color: 0x0000ff,
    map: texture
  }),
  new three.MeshBasicMaterial({
   // color: 0xffff00
   map: texture
  }),
  new three.MeshBasicMaterial({
    //color: 0x00ffff

    map:texture
  }),
  new three.MeshBasicMaterial({
    //color: 0xff00ff
    map:texture
  })
]);

var geometry1 = new three.CubeGeometry(0, winhei,winlen);
//var material = new three.MeshNormalMaterial();
/*var material1 = new three.MeshBasicMaterial({
    color: 0xffffff
});*/

three.ImageUtils.crossOrigin = '';
var texture2 = three.ImageUtils.loadTexture('http://i.imgur.com/i9umepr.jpg');
texture.anisotropy = renderer.getMaxAnisotropy();

var material1 = new three.MeshFaceMaterial([
  new three.MeshBasicMaterial({
    //color: 0x00ff00
    map:texture2
  }),
  new three.MeshBasicMaterial({
   // color: 0xff0000
   map:texture2
  }),
  new three.MeshBasicMaterial({
    //color: 0x0000ff,
    map: texture2
  }),
  new three.MeshBasicMaterial({
   // color: 0xffff00
   map: texture2
  }),
  new three.MeshBasicMaterial({
    //color: 0x00ffff

    map:texture2
  }),
  new three.MeshBasicMaterial({
    //color: 0xff00ff
    map:texture2
  })
]);

three.ImageUtils.crossOrigin = '';
var texture3 = three.ImageUtils.loadTexture('http://i.imgur.com/DdLrPvO.jpg');
texture.anisotropy = renderer.getMaxAnisotropy();

var material2 = new three.MeshFaceMaterial([
  new three.MeshBasicMaterial({
    //color: 0x00ff00
    map:texture3
  }),
  new three.MeshBasicMaterial({
   // color: 0xff0000
   map:texture3
  }),
  new three.MeshBasicMaterial({
    //color: 0x0000ff,
    map: texture3
  }),
  new three.MeshBasicMaterial({
   // color: 0xffff00
   map: texture3
  }),
  new three.MeshBasicMaterial({
    //color: 0x00ffff

    map:texture3
  }),
  new three.MeshBasicMaterial({
    //color: 0xff00ff
    map:texture3
  })
]);

var cube = new three.Mesh(geometry, material);
cube.position.set(0, 0, 0);
cube.rotation.x = Math.PI / 8;
cube.rotation.y = Math.PI / 8;
//cube.rotation.z = Math.PI / 8;
//scene.add(cube);
group.add(cube);
var cube1 = new three.Mesh(geometry1, material1);
cube1.rotation.x = Math.PI / 8;
cube1.rotation.y = Math.PI / 8;
//cube1.rotation.z = Math.PI / 8;
cube1.position.set(0.55,0,0);
//scene.add(cube1);
group.add(cube1);
var geometry2 = new three.CubeGeometry(ohdepth,0.1,winlen);
//var material = new three.MeshNormalMaterial();
/*var material2 = new three.MeshBasicMaterial({
    color: 0xfffff-f.25
});*/

var cube2 = new three.Mesh(geometry2, material2);
cube2.rotation.x = Math.PI / 8;
cube2.rotation.y = Math.PI / 8;
cube2.position.set(ohdepth/2 + 0.5, winhei/2 + 0.05 , 0 ) ;
//scene.add(cube2);
group.add(cube2);

var geometry3 = new three.CubeGeometry(findepth,1,0.05);
var cube3 = new three.Mesh(geometry3, material2);
cube3.rotation.x = Math.PI / 8;
cube3.rotation.y = Math.PI / 8;
cube3.position.set(findepth/2 + 0.5 - 0.2, winhei/2 - 0.3, -1*winlen/2 - 0.1);
group.add(cube3);

//var geometry3 = new three.CubeGeometry(1,1,0.05);
var cube4 = new three.Mesh(geometry3, material2);
cube4.rotation.x = Math.PI / 8;
cube4.rotation.y = Math.PI / 8;
cube4.position.set(findepth/2 + 0.5 + 0.2, winhei/2 - 0.6, 1*winlen/2 - 0.3);
group.add(cube4);
scene.add(group);
camera.position.z = 5;

//cube1.translateZ(-1);

/* */
var isDragging = false;

var previousMousePosition = {
  x: 0,
  y: 0
};
$(renderer.domElement).on('mousedown', function(e) {
    isDragging = true;
  })
  .on('mousemove', function(e) {
    //console.log(e);
    var deltaMove = {
      x: e.offsetX - previousMousePosition.x,
      y: e.offsetY - previousMousePosition.y
    };

    if (isDragging) {

      var deltaRotationQuaternion = new three.Quaternion()
        .setFromEuler(new three.Euler(
          toRadians(deltaMove.y * 2),
          toRadians(deltaMove.x * 2),
          0,
          'XYZ'
        ));

      
      group.quaternion.multiplyQuaternions(deltaRotationQuaternion, group.quaternion);
     // cube2.quaternion.multiplyQuaternions(deltaRotationQuaternion, cube2.quaternion);
      //cube.quaternion.multiplyQuaternions(deltaRotationQuaternion, cube.quaternion);
    }

    previousMousePosition = {
      x: e.offsetX,
      y: e.offsetY
    };
  });
/* */

$(document).on('mouseup', function(e) {
  isDragging = false;
});



// shim layer with setTimeout fallback
window.requestAnimFrame = (function() {
  return window.requestAnimationFrame ||
    window.webkitRequestAnimationFrame ||
    window.mozRequestAnimationFrame ||
    function(callback) {
      window.setTimeout(callback, 1000 / 60);
    };
})();

var lastFrameTime = new Date().getTime() / 1000;
var totalGameTime = 0;

function update(dt, t) {
  //console.log(dt, t);

  //camera.position.z -= 1 * dt;
  //group.rotation.x += 1 * dt;
  //group.rotation.y += 1 * dt;

  setTimeout(function() {
    var currTime = new Date().getTime() / 1000;
    var dt = currTime - (lastFrameTime || currTime);
    totalGameTime += dt;

    update(dt, totalGameTime);

    lastFrameTime = currTime;
  }, 0);
}


function render() {
  renderer.render(scene, camera);


  requestAnimFrame(render);
}

render();
update(0, totalGameTime);

function toRadians(angle) {
  return angle * (Math.PI / 180);
}

function toDegrees(angle) {
  return angle * (180 / Math.PI);
}

	// $("#abhilash").load("#abhilash");
	$("#abhilash").load();
	console.log("Reloaded");
}

</script>
	
	<!-- page scripts -->
	<script src="../static/js/jquery-ui.min.js"></script>
	<script src="../static/js/jquery.sparkline.min.js"></script>
	<script src="../static/js/jquery.chosen.min.js"></script>
	<script src="../static/js/jquery.autosize.min.js"></script>
	<script src="../static/js/jquery.placeholder.min.js"></script>
	<script src="../static/js/jquery.bootstrap.wizard.min.js"></script>
	<script src="../static/js/jquery.maskedinput.min.js"></script>
	
	<!-- theme scripts -->
	<script src="../static/js/custom.min.js"></script>
	<script src="../static/js/core.min.js"></script>
	
	<!-- inline scripts related to this page -->
	<script src="../static/js/pages/form-wizard.js"></script>
	
	<!-- end: JavaScript-->
	
</body>
</html>
